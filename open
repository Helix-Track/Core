#!/bin/bash

# TODO: Clone script to download the opening files and scripts that are not the part of Project Toolkit

HERE=$(pwd)

SCRIPT_DO_OPEN="$HERE/do_open"
SCRIPT_PRE_OPEN="$HERE/pre_open"
SCRIPT_POST_OPEN="$HERE/post_open"

if test -e "$SCRIPT_PRE_OPEN"; then

    if ! sh "$SCRIPT_PRE_OPEN"; then

        echo "ERROR: Pre-open failed"
        exit 1
    fi
fi

if test -e "$SCRIPT_DO_OPEN"; then

  sh "$SCRIPT_DO_OPEN"
fi

if test -e "$SCRIPT_POST_OPEN"; then

    if ! sh "$SCRIPT_POST_OPEN"; then

        echo "ERROR: Post-open failed"
        exit 1
    fi
fi

# FIXME: Fix the opening recipes sequence
#
# Ubuntu logs:
#
# The 'SUBMODULES_HOME' variable is defined and set to the value of: '/home/milosvasic/Apps/Project-Toolkit'
# The 'SUBMODULES_HOME' has been exported in: '/home/milosvasic/.bashrc'
# Post-opening the HelixTrack Core
# Nothing to be done here
#
# BaseAlt logs:
# 
# The 'SUBMODULES_HOME' variable is defined and set to the value of: '/home/milosvasic/Projects/HelixTrack/Project-Toolkit'
# The 'SUBMODULES_HOME' has been exported in: '/home/milosvasic/.bashrc'

#                                         .....::.......                                    
#                                    ..:::::::::::::::::::.                                 
#                                  ::::::::::::::---::::.....                               
#                               .:---:::::::::----:::..........                             
#                              :--------::::----:::..............                           
#                            .---------------:.         ..........                          
#                           .--------------.              ........                          
#                           -------------:   .--------:    ........                         
#                          -------------:  :---:.    .:-.   .......                         
#                          -------------  :---:  :---. ::   .......                         
#                                         ----  .----. ::   .......                         
#                                         ----.  .--..:.    ......                          
#                                         .----.          .......                           
#                                          .---:::......:::::::.                            
#                                            :::::::::::::::::.                             
#                                              .::::::::...                                 
                                                                                          
# :-:                   :-: .++-                                                  --.       
# ##*                   *## .++-                =+=                              .##-       
# ##*:=+=-.    :=++=:   *##  ==: ===   -==    .-###--  ==:-=- :==+==:    .-=+=-. .##-  .===.
# ###*==*##: :##+--+##. *## .##= .+##-*#+     .=###==. ###*+- +=--=##+  *##=-=##:.##-.+##=  
# ##*    ##= ###++++##* *## .##=   -###-        ##*    ##+    -=+++### =##.      .######:   
# ##*    ##= *##-...-.  *## .##=  :##*##:       *##    ##=   *##...*## :##=   -- .##*-+##=  
# ##*    ##=  =*#####=  *## .##= +##: -##+      :####= ##=   -##****##  :+#####+..##-  :##*.

# Pre-preparing the HelixTrack Core
# Nothing to be done here
# Using the default iconify recipe: /home/milosvasic/Projects/HelixTrack/Core/Recipes/Iconic/launcher_parameters.sh
# Iconify: Name='HelixTrack Core DEV', Version='1.0.0' Icon='/home/milosvasic/Projects/HelixTrack/Core/Assets/Launcher.svg'
# Iconify: Description='The HelixTrack Core development IDE.', File='helixtrack_core_dev.desktop'
# Iconify: Path='/home/milosvasic/Projects/HelixTrack/Core', Command='open'
# The desktop launcher entry file written: '/home/milosvasic/.local/share/applications/helixtrack_core_dev.desktop'
# [Desktop Entry]
# Name=HelixTrack Core DEV 1.0.0
# Path=/home/milosvasic/Projects/HelixTrack/Core
# Exec=mate-terminal --geometry=250x70 -e /home/milosvasic/Projects/HelixTrack/Core/open
# Terminal=false
# Version=1.0.0
# Type=Application
# Categories=Development;IDE;
# Icon=/home/milosvasic/Projects/HelixTrack/Core/Assets/Launcher.svg
# Comment=The HelixTrack Core development IDE.
# Dekstop shortcut created: '/home/milosvasic/Desktop/helixtrack_core_dev.desktop'
# Post-preparing the HelixTrack Core
# Nothing to be done here
# Using the project IDE cmd: code
# VSCode is installed on your system
# Checking VSCode data version
# Current VSCode data version: 1.0.17

